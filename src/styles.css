:root {
  color-scheme: dark;
  font-family: Inter, 'SF Pro Display', 'Space Grotesk', system-ui, sans-serif;
  background: #040608;
  color: #edf3ff;
}

* { box-sizing: border-box; }
body { margin: 0; background: radial-gradient(circle at 20% 10%, #0b1526, #05070a 55%); }

.app {
  min-height: 100vh;
  padding: 1rem;
  position: relative;
  overflow: hidden;
}

.neural-layer {
  position: fixed;
  inset: 0;
  pointer-events: none;
  opacity: calc(0.2 + var(--intensity) * 0.4);
  background-image:
    radial-gradient(circle at 12% 40%, #00e5ff66 0 2px, transparent 3px),
    radial-gradient(circle at 80% 60%, #8b5cf666 0 2px, transparent 3px),
    linear-gradient(105deg, transparent 0%, #00e5ff22 45%, transparent 50%),
    linear-gradient(45deg, transparent 0%, #8b5cf61f 30%, transparent 35%);
  background-size: 220px 180px, 240px 180px, 300% 300%, 200% 200%;
  animation: neuralFlow calc(18s / var(--speed)) linear infinite;
  filter: saturate(1.1);
}

@keyframes neuralFlow {
  from { background-position: 0 0, 20px 30px, 0% 50%, 80% 20%; }
  to { background-position: 250px 120px, -220px -80px, 100% 50%, 20% 80%; }
}

.panel {
  position: relative;
  z-index: 2;
  backdrop-filter: blur(10px);
  background: rgba(8, 14, 24, 0.72);
  border: 1px solid #1d334f;
  border-radius: 18px;
  padding: 1rem;
}

.topbar { display: flex; justify-content: space-between; gap: 1rem; align-items: center; margin-bottom: 1rem; }
.topbar h2 { margin: 0 0 .3rem; font-size: clamp(1.1rem, 2.5vw, 1.6rem); }
.topbar p { margin: 0; color: #b2c2d9; }

.row { display: flex; gap: .5rem; align-items: center; }
.row.wrap { flex-wrap: wrap; }

button, input, select {
  background: #0a111d;
  color: #eff3ff;
  border: 1px solid #2b425f;
  border-radius: 12px;
  padding: .55rem .8rem;
}
button { cursor: pointer; }
button.primary {
  background: linear-gradient(140deg, #00b4ff, #7c5cff);
  border: none;
  color: white;
  box-shadow: 0 0 20px #00d9ff33;
}

.grid { display: grid; grid-template-columns: 1.2fr 1fr 1fr; gap: 1rem; }

.advanced { display: grid; grid-template-columns: 1fr 1fr; gap: .5rem; margin: .7rem 0; }
.advanced label { display: grid; gap: .3rem; font-size: .85rem; color: #a9bad2; }
.tasks { list-style: none; padding: 0; margin: .8rem 0 0; display: grid; gap: .5rem; max-height: 300px; overflow: auto; }
.tasks li { display: flex; justify-content: space-between; align-items: center; border: 1px solid #1f3349; border-radius: 12px; padding: .6rem .7rem; }
.tasks small { color: #95adc9; display: block; margin-top: .2rem; }

.timer-loop .ring {
  --size: 130px;
  width: var(--size);
  height: var(--size);
  border-radius: 50%;
  display: grid;
  place-items: center;
  background: conic-gradient(#00dbff calc(var(--progress) * 360deg), #223647 0deg);
  box-shadow: inset 0 0 0 10px #060d15;
  text-align: center;
}
.timer-loop strong { font-size: 1.25rem; }
.timer-loop small { color: #9eb4cf; }
.timer-loop { display: flex; align-items: center; gap: .8rem; }

.analytics { margin-top: .8rem; display: grid; grid-template-columns: repeat(2, 1fr); gap: .5rem; }
.analytics article { padding: .7rem; border: 1px solid #21405f; border-radius: 12px; background: #091321aa; display: grid; gap: .2rem; }
.analytics strong { font-size: 1.25rem; color: #d7ecff; }
.analytics small { color: #9eb4cf; }

.onboarding { margin-bottom: 1rem; }
.focus-mode .grid { grid-template-columns: 1fr; }
.focus-mode .panel:not(.topbar) { opacity: .25; }
.focus-mode .topbar { min-height: 75vh; display: grid; place-items: center; text-align: center; }

.mode-student button.primary { box-shadow: 0 0 20px #57ccff2e; }
.mode-worker .neural-layer { filter: contrast(1.3); }
.mode-custom .panel { border-color: #395075; }

@media (max-width: 1024px) {
  .grid { grid-template-columns: 1fr 1fr; }
}

@media (max-width: 760px) {
  .topbar { flex-direction: column; align-items: stretch; }
  .grid, .advanced { grid-template-columns: 1fr; }
  .timer-loop { justify-content: center; }
}
